<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>vvvdeo</title>

    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script type="module" src="segmentation.js" defer></script>
</head>
<body>
    <header>
        <h1>vvvdeo</h1>
    </header>
    <main>
       <!-- <div class="input-div">
            <h3>Stream youtube video via link</h3>
            <form id="download-form">
                <input type="text" id="youtube-url" placeholder="Enter YouTube URL" required>
                <button type="submit">Stream Video</button> (not working)
            </form>
        </div>-->
        <div class="div-section">
            <h3>Pick a local video</h3>
            <form enctype="multipart/form-data">
                <input id="input-video" type="file" name="video" accept="video/mp4">
            </form>
        </div>
        <div id="video-player-container" class="div-section">
            <video id="video-player" controls width="1080"></video>
            <div hidden id="video-preview-msg">
                    Video preview, frames are being extracted for inference...
                </div>
            <div id="coordinates-shape-container"></div>
            <div id="show-btn-container" class="div-section">
                <button id="show-trim-btn">Trim video</button>
                <button id="show-speedup-btn">Speedup video</button>
                <button disabled>Segment video (give me credits for gpu)</button>
            </div>
            <!--<p id="video-length-msg">(max video length: 10 seconds)</p>-->
        </div>
        <div id="ffmpeg-container" class="div-section">
            <p id="ffmpeg-message"></p>
            <div class="timestamp-block">
                <span>Start</span>
                <div class="timestamp-container">
                    <input id="start-timestamp-input" type="time" step="1">
                    <button id="start-timestamp-btn">⦿</button>
                </div>
            </div>
            <div class="timestamp-block">
                <span>End</span>
                <div class="timestamp-container">
                    <input id="end-timestamp-input" type="time" step="1">
                    <button id="end-timestamp-btn">⦿</button>
                </div>
            </div>
            <div id="ffmpeg-btn-wrapper">
                <div class="ffmpeg-btn-container" id="trim-inputs-container">
                    <button id="trim-btn" class="ffmpeg-btn" >✂</button>
                    <img src="./ubel-cut.png" alt="Trim Icon" class="btn-icon" id="ubel-icon">
                </div>
                <div class="ffmpeg-btn-container" id="speedup-inputs-container">
                    <span class="x-label">x</span>
                    <input type="number" id="speedup-factor-input" min="1.00" step="0.5" value="2.0">
                    <button id="speedup-btn" class="ffmpeg-btn" >⋙</button>
                    <img src="./korosensei-speed.png" alt="Speedup Icon" class="btn-icon" id="korosensei-icon">
                </div>
            </div>
        <div id="inference-container">
            <div>
                <h3>Pick an image</h3>
                <form enctype="multipart/form-data">
                    <input id="input-img" type="file" name="image" accept="image/*">
                    <br></br>
                </form>
            </div>
            <div class="images-grid">
                <img id="img-preview" class="preview">
            </div>
            <div id="btn-labels-container">
                <button disabled id="seg-add">Add area</button>
                <button disabled id="seg-excl">Exclude area</button>
            </div>
            <div id="inf-btn-container">
                <button disabled id="inference-video-btn">RUN INFERENCE</button>
            </div>
        </div>
    </main>
    <div id="loading-spinner-container">
        <div class="spinner" id="loading-spinner"></div>
        <div class="spinner-text" id="loading-text">Crafting the video...</div>
    </div>
    <footer>
          <p>
              Built by berto ► <br>
              <a href="https://github.com/Graffioh" target="_blank">GitHub</a> |
              <a href="https://x.com/graffioh" target="_blank">X</a>
          </p>
    </footer>
</body>
</html>
