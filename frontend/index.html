<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>vvvdeo</title>

    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script type="module" src="segmentation.js" defer></script>
</head>
<body>
    <header>
        <h1>vvvdeo</h1>
    </header>
    <main>
        <div class="input-div">
            <h3>Pick a video</h3>
            <form enctype="multipart/form-data">
                <input id="input-video" type="file" name="video" accept="video/mp4">
            </form>
        </div>
        <div id="video-container">
            <video id="video-player" controls width="1080"></video>
            <div hidden id="video-preview-msg">
                    Video preview, frames are being extracted for inference...
                </div>
            <div id="shapes-container"></div>
        </div>
        <div id="show-btns-container">
            <button id="show-trim">Trim video</button>
            <button disabled>Segment video (give me credits for gpu)</button>
        </div>
        <div id="trim-container">
            <p id="ffmpeg-message"></p>
                <!--<p id="video-length-msg">(max video length: 10 seconds)</p>-->
                <div id="inputs-trim">
                <div id="start-trim-container">
                    <p>Start</p>
                    <input id="start-trim-input" type="time" step="1">
                    <button id="start-trim-btn">⦿</button>
                </div>
                <div id="end-trim-container">
                    <p>End</p>
                    <input id="end-trim-input" type="time" step="1">
                    <button id="end-trim-btn">⦿</button>
                </div>
                <div class="trim-button-wrapper">
                    <img src="./public/ubel-cut.png" alt="Trim Icon" id="trim-icon">
                    <button class="trim-button" id="trim-button-fast">✂</button>
                </div>
            </div>
        </div>
        <div id="inference-container">
            <div class="input-div">
                <h3>Pick an image</h3>
                <form enctype="multipart/form-data">
                    <input id="input-img" type="file" name="image" accept="image/*">
                    <br></br>
                </form>
            </div>
            <div class="images-grid">
                <img id="img-preview" class="preview">
            </div>
            <div id="btn-labels-container">
                <button disabled id="seg-add">Add area</button>
                <button disabled id="seg-excl">Exclude area</button>
            </div>
            <div id="inf-btn-container">
                <button disabled id="inference-video-btn">RUN INFERENCE</button>
            </div>
            <div class="spinner" id="loading-spinner"></div>
            <div class="spinner-text" id="loading-text">Crafting the video...</div>
        </div>
        <footer>
              <p>
                  Built by berto ► <br>
                  <a href="https://github.com/Graffioh" target="_blank">GitHub</a> |
                  <a href="https://x.com/graffioh" target="_blank">X</a>
              </p>
          </footer>
    </main>
</body>
</html>
